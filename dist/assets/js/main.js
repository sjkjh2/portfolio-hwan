import"./modulepreload-polyfill.js";function p(i,n){i.classList.add(n)}function d(i,n){i.classList.remove(n)}function b(){document.querySelectorAll(".-copy-text").forEach(n=>{n.addEventListener("click",function(){const e=n.getAttribute("data-element-id"),s=document.getElementById(e),r=s.value;s.select(),s.setSelectionRange(0,99999);try{const w=document.execCommand("copy")?`${r} 클립보드에 복사되었습니다!`:"복사에 실패했습니다";alert(w)}catch(m){alert("복사하는 동안 오류가 발생했습니다: "+m)}})})}function A(){const i=document.querySelector("body"),n=document.querySelector(".header"),e=document.querySelector(".header-menu"),s=document.querySelector(".main"),r=document.querySelector(".header-menu__cursor"),m=document.querySelector(".header-menu__list"),w=document.querySelectorAll(".header-menu__link"),h=document.querySelectorAll(".header-menu__pic");let f,y,E;function L(){function u(t){t.setAttribute("aria-expanded",!0),p(i,"-has-popup"),p(e,"-opened"),p(s,"-has-popup"),d(e,"-closed"),q()}function x(){let t;function o(a){t||(t=a),a-t>=500?(d(e,"-opened"),d(e,"-closed")):requestAnimationFrame(o)}requestAnimationFrame(o)}function v(){d(i,"-has-popup"),E&&E.setAttribute("aria-expanded",!1),p(e,"-closed"),x(),y&&(window.removeEventListener("mousemove",y),y=null),d(s,"-has-popup")}function c(t,o,a,l){setTimeout(()=>{t.style.opacity=o,t.style.visibility=a},l)}function _(){const t=e.querySelectorAll("button, a, [tabindex]"),o=t[0],a=t[t.length-1];e.addEventListener("keydown",function(l){(l.key==="Tab"||l.keyCode===9)&&(l.shiftKey?document.activeElement===o&&(a.focus(),l.preventDefault()):document.activeElement===a&&(o.focus(),l.preventDefault()))})}function g(t){const o=t.getAttribute("href");let a;function l(H){a||(a=H),H-a>=1100?window.location.href=o:requestAnimationFrame(l)}requestAnimationFrame(l)}document.addEventListener("keydown",t=>{t.key==="Escape"&&e.classList.contains("-opened")&&(c(e,"0","hidden",1200),v())}),n.addEventListener("click",t=>{let o=t.target.closest(".header-menu__open, .header-menu__closed, .header-menu__link");o&&(o.classList.contains("header-menu__closed")&&(v(),c(e,"0","hidden",1200)),o.classList.contains("header-menu__open")&&(u(o),E=o,c(e,"1","visible",0),_()),o.classList.contains("header-menu__link")&&(console.log(o),t.preventDefault(),v(),g(o)))})}L();function q(){y=function(u){const x=r.clientWidth/2,v=r.clientHeight/2;r.style.transform=`
        translate(${u.clientX-x}px, ${u.clientY-v}px) 
      `},e.addEventListener("mousemove",y)}function k(u){u==="mouseover"?p(r,"-grow"):u==="mouseout"&&d(r,"-grow")}function S(){function u(c){c.forEach((_,g)=>{_.dataset.index=g})}function x(c,_,g){let t=c.target.closest(".header-menu__link");if(t){if(t.classList.contains("header-menu__link")){const o=t.dataset.index,a=document.querySelector(`.header-menu__pic[data-index="${o}"]`);if(a)return _==="mouseover"&&g&&d(g,"-visible"),_==="mouseover"?p(a,"-visible"):_==="mouseout"&&d(g,"-visible"),a}return null}}function v(){u(w),u(h),m.addEventListener("mouseover",c=>{f=x(c,"mouseover",f),k("mouseover")}),m.addEventListener("mouseout",c=>{x(c,"mouseout",f),k("mouseout")})}v()}S()}A();b();C();F();B();function C(){const i=document.querySelector(".header-scroll"),n=document.querySelector(".header-menu__open"),e=document.querySelector(".visual");let s,r;function m(){r=document.body.offsetHeight-window.innerHeight,s=e.offsetHeight}function w(){const h=scrollY/r;i.style.height=h*100+"%",scrollY>=s/1.5?p(i,"-change"):d(i,"-change"),scrollY>=s/2?p(n,"-change"):d(n,"-change")}window.addEventListener("scroll",()=>{w()}),window.addEventListener("resize",m),m()}function F(){const i=document.querySelectorAll(".visual__parallax");let n={x:0,y:0},e=0;function s(h){i.forEach(f=>{const y=f.dataset.speedx||1,E=f.dataset.speedy||1,L=f.dataset.speedz||1,q=f.dataset.rotation||1,k=parseFloat(getComputedStyle(f).left),S=k<window.innerWidth/2?1:-1,u=(h-k)*S*.1;f.style.transform=`
        perspective(230rem) 
        translate3d(calc(-50% + ${-n.x*y}px), calc(-50% + ${n.y*E}px), ${u*L}px) 
        rotateY(${e*q}deg)
      `})}function r(h){n.x=h.clientX-window.innerWidth/2,n.y=h.clientY-window.innerHeight/2,e=n.x/(window.innerWidth/2)*20,requestAnimationFrame(()=>s(n.x))}function m(){requestAnimationFrame(()=>s(n.x))}document.querySelector(".visual").addEventListener("mousemove",r),window.addEventListener("resize",m),s(0)}function B(){const i=document.querySelector(".work");function n(e,s){let r=e.target.closest(".work__link__tilt");r&&r.classList.contains("work__link__tilt")&&(s==="mouseover"?p(r,"-active"):s==="mouseout"&&d(r,"-active"))}i.addEventListener("mouseover",e=>{n(e,"mouseover")}),i.addEventListener("mouseout",e=>{n(e,"mouseout")})}
