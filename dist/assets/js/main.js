import"./modulepreload-polyfill.js";import{g as x,S as q}from"./ScrollTrigger.js";function f(n,o){n.classList.add(o)}function c(n,o){n.classList.remove(o)}function B(){document.querySelectorAll(".-copy-text").forEach(o=>{o.addEventListener("click",function(){const e=o.getAttribute("data-element-id"),t=document.getElementById(e),s=t.value;t.select(),t.setSelectionRange(0,99999);try{const p=document.execCommand("copy")?`${s} 클립보드에 복사되었습니다!`:"복사에 실패했습니다";alert(p)}catch(u){alert("복사하는 동안 오류가 발생했습니다: "+u)}})})}function W(){window.addEventListener("load",()=>{setTimeout(()=>scrollTo(0,0),100)})}function C(){const n=document.querySelector(".scroll-up"),o=()=>{const e=document.documentElement.scrollHeight;window.scrollY+window.innerHeight>=e?f(n,"-show"):c(n,"-show")};o(),window.addEventListener("scroll",()=>{o()}),window.addEventListener("resize",()=>{o()}),n.addEventListener("click",e=>{setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),c(n,"-show")},100)})}function P(){const n=document.querySelector("body"),o=document.querySelector(".header"),e=document.querySelector(".header-logo"),t=document.querySelector(".header-menu"),s=document.querySelector(".header-scroll"),u=document.querySelector(".main"),p=document.querySelector(".visual");let d,l,m,L,y,h,b,r;function g(){h=document.querySelector(".header-menu__open");let E=window.innerWidth;function H(){m=window.innerWidth,L=window.innerHeight,d=document.body.offsetHeight,y=d-L,l=p.offsetHeight,b=h.offsetTop,r=e.offsetTop,o.offsetHeight,(E>1200&&m<=1200||E<=1200&&m>1200)&&(s.style.height="",s.style.width="",c(s,"-change"),c(h,"-change"),c(e,"-change"),c(o,"-change")),E=m}function w(){const v=scrollY/y;m>1200?(s.style.height=v*100+"%",scrollY>=l/1.2?f(s,"-change"):c(s,"-change"),scrollY>=l-b?f(h,"-change"):c(h,"-change"),scrollY>=l-r?f(e,"-change"):c(e,"-change")):(s.style.width=v*100+"%",scrollY>=1?f(o,"-change"):c(o,"-change"))}window.addEventListener("scroll",w),window.addEventListener("resize",H),H()}g();function T(){function E(i){i.setAttribute("aria-expanded",!0),f(n,"-has-popup"),f(t,"-opened"),f(u,"-has-popup"),c(t,"-closed")}function H(){let i;function a(S){i||(i=S),S-i>=500?(c(t,"-opened"),c(t,"-closed")):requestAnimationFrame(a)}requestAnimationFrame(a)}function w(){c(n,"-has-popup"),h&&h.setAttribute("aria-expanded",!1),f(t,"-closed"),H(),c(u,"-has-popup")}function v(i,a,S,_){setTimeout(()=>{i.style.opacity=a,i.style.visibility=S},_)}function k(){const i=t.querySelectorAll("button, a, [tabindex]"),a=i[0],S=i[i.length-1];t.addEventListener("keydown",function(_){(_.key==="Tab"||_.keyCode===9)&&(_.shiftKey?document.activeElement===a&&(S.focus(),_.preventDefault()):document.activeElement===S&&(a.focus(),_.preventDefault()))})}function A(i){const a=i.getAttribute("href");setTimeout(()=>{window.location.href=a},1100)}document.addEventListener("keydown",i=>{i.key==="Escape"&&t.classList.contains("-opened")&&(v(t,"0","hidden",1200),w())}),o.addEventListener("click",i=>{let a=i.target.closest(".header-menu__open, .header-menu__closed, .header-menu__link");a&&(a.classList.contains("header-menu__closed")&&(w(),v(t,"0","hidden",1200)),a.classList.contains("header-menu__open")&&(E(a),h=a,v(t,"1","visible",0),k()),a.classList.contains("header-menu__link")&&(console.log(a),i.preventDefault(),w(),A(a)))})}T()}function z(){const n=document.querySelector(".header-menu__list"),o=document.querySelectorAll(".header-menu__link"),e=document.querySelectorAll(".header-menu__pic");let t;const s=d=>{d.forEach((l,m)=>{l.dataset.index=m})},u=(d,l)=>{const m=d.target.closest(".header-menu__link");if(!m)return null;const L=m.dataset.index,y=document.querySelector(`.header-menu__pic[data-index="${L}"]`);return y?(l==="mouseover"&&t&&c(t,"-visible"),l==="mouseover"?f(y,"-visible"):l==="mouseout"&&c(t,"-visible"),y):null};(()=>{s(o),s(e),n.addEventListener("mouseover",d=>{t=u(d,"mouseover")}),n.addEventListener("mouseout",d=>{u(d,"mouseout")})})()}function Y(){x.registerPlugin(q);const n=e=>{x.set(e,{autoAlpha:0})},o=e=>{const t=parseFloat(e.dataset.delay)||0;let s=0,u=0,p=1,d="power3.out";e.classList.contains("-topToBottom")?u=-50:u=100,x.fromTo(e,{autoAlpha:0,x:s,y:u},{autoAlpha:1,x:0,y:0,delay:t,duration:p,ease:d})};x.utils.toArray(".-scrollMotion").forEach(e=>{n(e),q.create({trigger:e,start:"top bottom",end:"bottom top",overwrite:"auto",toggleActions:"play none restart none",onEnter:()=>{o(e)}})})}function I(){const n=document.querySelector(".visual"),o=document.querySelectorAll(".visual__parallax");let e={x:0,y:0},t=0,s={x:0,y:0},u={x:0,y:0},p=!1;o.forEach(r=>{x.set(r,{perspective:"230rem",xPercent:-50,yPercent:-50,z:0,rotateY:0})});const d=x.timeline({defaults:{duration:1.5,ease:"power3.out"},onComplete:()=>{b()}});Array.from(o).filter(r=>!r.classList.contains("visual__parallax--txt")).forEach((r,g)=>{d.from(r,{y:r.offsetHeight/2+ +r.dataset.distance,opacity:0,duration:3.5,overwrite:"auto"},g*.2)}),d.from(".visual__logo",{y:300,opacity:0,delay:1,duration:2,ease:"power3.out"},"2.5").from(".visual__tit",{y:-150,opacity:0,delay:.6,duration:2,ease:"power3.out"},"3").from(".-hide",{opacity:0,duration:1.5});function l(){o.forEach(r=>{const g=r.dataset.speedx||1,T=r.dataset.speedy||1,E=r.dataset.speedz||1,H=r.dataset.rotation||1,w=parseFloat(getComputedStyle(r).left),v=w<window.innerWidth/2?1:-1,k=(e.x-w)*v*.1;x.to(r,{x:-e.x*g,y:e.y*T,z:k*E,rotateY:t*H,overwrite:"auto",ease:"power3.out"})})}function m(r){p||(e.x=r.clientX-window.innerWidth/2,e.y=r.clientY-window.innerHeight/2,t=e.x/(window.innerWidth/2)*20,l())}function L(r){p=!0;const g=r.touches[0];s={x:g.clientX-window.innerWidth/2,y:g.clientY-window.innerHeight/2},e={...s},l()}function y(){p=!1,x.to(e,{x:"+="+u.x*20,y:"+="+u.y*20,duration:1.5,ease:"power2.out",onUpdate:l})}function h(){l()}function b(){n.addEventListener("mousemove",m),n.addEventListener("touchstart",L,{passive:!0}),n.addEventListener("touchend",y,{passive:!0})}window.addEventListener("resize",h),l()}B();W();C();P();Y();I();z();F();function F(){const n=document.querySelector(".projects");function o(e,t){let s=e.target.closest(".projects__link__tilt");s&&s.classList.contains("projects__link__tilt")&&(t==="mouseover"?f(s,"-active"):t==="mouseout"&&c(s,"-active"))}n.addEventListener("mouseover",e=>{o(e,"mouseover")}),n.addEventListener("mouseout",e=>{o(e,"mouseout")})}
