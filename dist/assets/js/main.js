import"./modulepreload-polyfill.js";b();function b(){C(),F(),B(),$(),A()}function p(s,n){s.classList.add(n)}function m(s,n){s.classList.remove(n)}function A(){document.querySelectorAll(".copy-text").forEach(n=>{n.addEventListener("click",function(){const e=n.getAttribute("data-element-id"),r=document.getElementById(e),i=r.value;r.select(),r.setSelectionRange(0,99999);try{const u=document.execCommand("copy")?`${i} 클립보드에 복사되었습니다!`:"복사에 실패했습니다";alert(u)}catch(a){alert("복사하는 동안 오류가 발생했습니다: "+a)}})})}function C(){const s=document.querySelector("body"),n=document.querySelector(".header"),e=document.querySelector(".header-menu"),r=document.querySelector(".main"),i=document.querySelector(".header-menu__cursor"),a=document.querySelector(".header-menu__list"),u=document.querySelectorAll(".header-menu__link"),x=document.querySelectorAll(".header-menu__pic");let w,h,k;function E(){function f(t){t.setAttribute("aria-expanded",!0),p(s,"-has-popup"),p(e,"-opened"),p(r,"-has-popup"),m(e,"-closed"),L()}function g(){let t;function o(l){t||(t=l),l-t>=500?(m(e,"-opened"),m(e,"-closed")):requestAnimationFrame(o)}requestAnimationFrame(o)}function y(){m(s,"-has-popup"),k&&k.setAttribute("aria-expanded",!1),p(e,"-closed"),g(),h&&(window.removeEventListener("mousemove",h),h=null),m(r,"-has-popup")}function c(t,o,l,d){setTimeout(()=>{t.style.opacity=o,t.style.visibility=l},d)}function v(){const t=e.querySelectorAll("button, a, [tabindex]"),o=t[0],l=t[t.length-1];e.addEventListener("keydown",function(d){(d.key==="Tab"||d.keyCode===9)&&(d.shiftKey?document.activeElement===o&&(l.focus(),d.preventDefault()):document.activeElement===l&&(o.focus(),d.preventDefault()))})}function _(t){const o=t.getAttribute("href");let l;function d(S){l||(l=S),S-l>=1100?window.location.href=o:requestAnimationFrame(d)}requestAnimationFrame(d)}document.addEventListener("keydown",t=>{t.key==="Escape"&&e.classList.contains("-opened")&&(c(e,"0","hidden",1200),y())}),n.addEventListener("click",t=>{let o=t.target.closest(".header-menu__open, .header-menu__closed, .header-menu__link");o&&(o.classList.contains("header-menu__closed")&&(y(),c(e,"0","hidden",1200)),o.classList.contains("header-menu__open")&&(f(o),k=o,c(e,"1","visible",0),v()),o.classList.contains("header-menu__link")&&(console.log(o),t.preventDefault(),y(),_(o)))})}E();function L(){h=function(f){const g=i.clientWidth/2,y=i.clientHeight/2;i.style.transform=`
        translate(${f.clientX-g}px, ${f.clientY-y}px) 
      `},e.addEventListener("mousemove",h)}function H(f){f==="mouseover"?p(i,"-grow"):f==="mouseout"&&m(i,"-grow")}function q(){function f(c){c.forEach((v,_)=>{v.dataset.index=_})}function g(c,v,_){let t=c.target.closest(".header-menu__link");if(t){if(t.classList.contains("header-menu__link")){const o=t.dataset.index,l=document.querySelector(`.header-menu__pic[data-index="${o}"]`);if(l)return v==="mouseover"&&_&&m(_,"-visible"),v==="mouseover"?p(l,"-visible"):v==="mouseout"&&m(_,"-visible"),l}return null}}function y(){f(u),f(x),a.addEventListener("mouseover",c=>{w=g(c,"mouseover",w),H("mouseover")}),a.addEventListener("mouseout",c=>{g(c,"mouseout",w),H("mouseout")})}y()}q()}function F(){const s=document.querySelector(".header-scroll"),n=document.querySelector(".header-menu__open"),e=document.querySelector(".visual");let r,i;function a(){i=document.body.offsetHeight-window.innerHeight,r=e.offsetHeight}function u(){const x=scrollY/i;s.style.height=x*100+"%",scrollY>=r/1.5?p(s,"-change"):m(s,"-change"),scrollY>=r/2?p(n,"-change"):m(n,"-change")}window.addEventListener("scroll",()=>{u()}),window.addEventListener("resize",a),a()}function B(){const s=document.querySelectorAll(".visual__parallax");let n={x:0,y:0},e=0;function r(a){s.forEach(u=>{let x=u.dataset.speedx,w=u.dataset.speedy,h=u.dataset.speedz,k=u.dataset.rotation,E=parseFloat(getComputedStyle(u).left)<window.innerWidth/2?1:-1,L=(a-parseFloat(getComputedStyle(u).left))*E*.1;u.style.transform=`
        perspective(230rem) 
        translate3d(calc(-50% + ${-n.x*x}px), calc(-50% + ${n.y*w}px), ${L*h}px) 
        rotateY(${e*k}deg)
      `})}r(0),document.querySelector(".visual").addEventListener("mousemove",a=>{n.x=a.clientX-window.innerWidth/2,n.y=a.clientY-window.innerHeight/2,e=n.x/(window.innerWidth/2)*20,r(n.x)})}function $(){const s=document.querySelector(".work");function n(e,r){let i=e.target.closest(".work__link__tilt");i&&i.classList.contains("work__link__tilt")&&(r==="mouseover"?p(i,"-active"):r==="mouseout"&&m(i,"-active"))}s.addEventListener("mouseover",e=>{n(e,"mouseover")}),s.addEventListener("mouseout",e=>{n(e,"mouseout")})}
