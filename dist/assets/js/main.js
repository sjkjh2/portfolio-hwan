import"./modulepreload-polyfill.js";import{g as w,S as L}from"./ScrollTrigger.js";function p(o,t){o.classList.add(t)}function u(o,t){o.classList.remove(t)}function k(){document.querySelectorAll(".-copy-text").forEach(t=>{t.addEventListener("click",function(){const e=t.getAttribute("data-element-id"),s=document.getElementById(e),a=s.value;s.select(),s.setSelectionRange(0,99999);try{const f=document.execCommand("copy")?`${a} 클립보드에 복사되었습니다!`:"복사에 실패했습니다";alert(f)}catch(l){alert("복사하는 동안 오류가 발생했습니다: "+l)}})})}function q(){window.addEventListener("load",()=>{setTimeout(()=>scrollTo(0,0),100)})}function A(){const o=document.querySelector(".scroll-up"),t=()=>{const e=document.documentElement.scrollHeight;window.scrollY+window.innerHeight>=e?p(o,"-show"):u(o,"-show")};t(),window.addEventListener("scroll",()=>{t()}),window.addEventListener("resize",()=>{t()}),o.addEventListener("click",e=>{setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),u(o,"-show")},100)})}function T(){const o=document.querySelector("body"),t=document.querySelector(".header"),e=document.querySelector(".header-menu");document.querySelector(".header-menu__cursor");const s=document.querySelector(".header-scroll"),a=document.querySelector(".main"),l=document.querySelector(".visual");let f,c,n,d,m;function y(){function v(){n=window.innerHeight,f=document.body.offsetHeight,d=f-n,c=l.offsetHeight}function E(){const g=scrollY/d;m=document.querySelector(".header-menu__open"),s.style.height=g*100+"%",scrollY>=c/1.5?p(s,"-change"):u(s,"-change"),scrollY>=c/2?p(m,"-change"):u(m,"-change")}window.addEventListener("scroll",()=>{E()}),window.addEventListener("resize",v),v()}y();function x(){function v(r){r.setAttribute("aria-expanded",!0),p(o,"-has-popup"),p(e,"-opened"),p(a,"-has-popup"),u(e,"-closed")}function E(){let r;function i(_){r||(r=_),_-r>=500?(u(e,"-opened"),u(e,"-closed")):requestAnimationFrame(i)}requestAnimationFrame(i)}function g(){u(o,"-has-popup"),m&&m.setAttribute("aria-expanded",!1),p(e,"-closed"),E(),u(a,"-has-popup")}function S(r,i,_,h){setTimeout(()=>{r.style.opacity=i,r.style.visibility=_},h)}function b(){const r=e.querySelectorAll("button, a, [tabindex]"),i=r[0],_=r[r.length-1];e.addEventListener("keydown",function(h){(h.key==="Tab"||h.keyCode===9)&&(h.shiftKey?document.activeElement===i&&(_.focus(),h.preventDefault()):document.activeElement===_&&(i.focus(),h.preventDefault()))})}function H(r){const i=r.getAttribute("href");setTimeout(()=>{window.location.href=i},1100)}document.addEventListener("keydown",r=>{r.key==="Escape"&&e.classList.contains("-opened")&&(S(e,"0","hidden",1200),g())}),t.addEventListener("click",r=>{let i=r.target.closest(".header-menu__open, .header-menu__closed, .header-menu__link");i&&(i.classList.contains("header-menu__closed")&&(g(),S(e,"0","hidden",1200)),i.classList.contains("header-menu__open")&&(v(i),m=i,S(e,"1","visible",0),b()),i.classList.contains("header-menu__link")&&(console.log(i),r.preventDefault(),g(),H(i)))})}x()}function B(){const o=document.querySelector(".header-menu__list"),t=document.querySelectorAll(".header-menu__link"),e=document.querySelectorAll(".header-menu__pic");let s;const a=c=>{c.forEach((n,d)=>{n.dataset.index=d})},l=(c,n)=>{const d=c.target.closest(".header-menu__link");if(!d)return null;const m=d.dataset.index,y=document.querySelector(`.header-menu__pic[data-index="${m}"]`);return y?(n==="mouseover"&&s&&u(s,"-visible"),n==="mouseover"?p(y,"-visible"):n==="mouseout"&&u(s,"-visible"),y):null};(()=>{a(t),a(e),o.addEventListener("mouseover",c=>{s=l(c,"mouseover")}),o.addEventListener("mouseout",c=>{l(c,"mouseout")})})()}function z(){w.registerPlugin(L);const o=e=>{w.set(e,{autoAlpha:0})},t=e=>{const s=parseFloat(e.dataset.delay)||0;let a=0,l=0,f=1,c="bounce";e.classList.contains("-topToBottom")?l=-50:l=100,w.fromTo(e,{autoAlpha:0,x:a,y:l},{autoAlpha:1,x:0,y:0,delay:s,duration:f,overwrite:"auto",ease:c})};w.utils.toArray(".-scrollMotion").forEach(e=>{o(e),L.create({trigger:e,start:"top bottom",end:"bottom top",markers:!1,onEnter:()=>{t(e)}})})}function C(){const o=document.querySelectorAll(".visual__parallax");let t={x:0,y:0},e=0;o.forEach(n=>{w.set(n,{perspective:"230rem",xPercent:-50,yPercent:-50,z:0,rotateY:0})});const s=w.timeline({defaults:{duration:1.5,ease:"bounce"}});Array.from(o).filter(n=>!n.classList.contains("visual__parallax--txt")).forEach((n,d)=>{s.from(n,{y:n.offsetHeight/2+ +n.dataset.distance,opacity:0,duration:3.5,ease:"power3.out"},d*.2)}),s.from(".visual__logo",{y:300,opacity:0,delay:1,duration:2},"2.5").from(".visual__tit",{y:-150,opacity:0,delay:.6,duration:2},"3").from(".-hide",{opacity:0,duration:1.5});function a(){o.forEach(n=>{const d=n.dataset.speedx||1,m=n.dataset.speedy||1,y=n.dataset.speedz||1,x=n.dataset.rotation||1,v=parseFloat(getComputedStyle(n).left),E=v<window.innerWidth/2?1:-1,g=(t.x-v)*E*.1;w.set(n,{x:-t.x*d,y:t.y*m,z:g*y,rotateY:e*x})})}function l(n){t.x=n.clientX-window.innerWidth/2,t.y=n.clientY-window.innerHeight/2,e=t.x/(window.innerWidth/2)*20,a()}function f(){a()}document.querySelector(".visual").addEventListener("mousemove",l),window.addEventListener("resize",f),a()}k();q();A();T();z();C();B();P();function P(){const o=document.querySelector(".projects");function t(e,s){let a=e.target.closest(".projects__link__tilt");a&&a.classList.contains("projects__link__tilt")&&(s==="mouseover"?p(a,"-active"):s==="mouseout"&&u(a,"-active"))}o.addEventListener("mouseover",e=>{t(e,"mouseover")}),o.addEventListener("mouseout",e=>{t(e,"mouseout")})}
