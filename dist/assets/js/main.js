import"./modulepreload-polyfill.js";import{g as x,S as A}from"./ScrollTrigger.js";function y(n,t){n.classList.add(t)}function d(n,t){n.classList.remove(t)}function C(){document.querySelectorAll(".-copy-text").forEach(t=>{t.addEventListener("click",function(){const e=t.getAttribute("data-element-id"),a=document.getElementById(e),r=a.value;a.select(),a.setSelectionRange(0,99999);try{const h=document.execCommand("copy")?`${r} 클립보드에 복사되었습니다!`:"복사에 실패했습니다";alert(h)}catch(c){alert("복사하는 동안 오류가 발생했습니다: "+c)}})})}function T(){window.addEventListener("load",()=>{setTimeout(()=>scrollTo(0,0),100)})}function B(){const n=document.querySelector(".scroll-up"),t=()=>{const e=document.documentElement.scrollHeight;window.scrollY+window.innerHeight>=e?y(n,"-show"):d(n,"-show")};t(),window.addEventListener("scroll",()=>{t()}),window.addEventListener("resize",()=>{t()}),n.addEventListener("click",e=>{setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),d(n,"-show")},100)})}function z(){const n=document.querySelector("body"),t=document.querySelector(".header"),e=document.querySelector(".header-menu"),a=document.querySelector(".main"),r=document.querySelector(".header-menu__cursor"),c=document.querySelector(".header-menu__list"),h=document.querySelectorAll(".header-menu__link"),v=document.querySelectorAll(".header-menu__pic");let o,u,g;function H(){function m(s){s.setAttribute("aria-expanded",!0),y(n,"-has-popup"),y(e,"-opened"),y(a,"-has-popup"),d(e,"-closed"),b()}function L(){let s;function i(l){s||(s=l),l-s>=500?(d(e,"-opened"),d(e,"-closed")):requestAnimationFrame(i)}requestAnimationFrame(i)}function w(){d(n,"-has-popup"),g&&g.setAttribute("aria-expanded",!1),y(e,"-closed"),L(),u&&(window.removeEventListener("mousemove",u),u=null),d(a,"-has-popup")}function f(s,i,l,p){setTimeout(()=>{s.style.opacity=i,s.style.visibility=l},p)}function _(){const s=e.querySelectorAll("button, a, [tabindex]"),i=s[0],l=s[s.length-1];e.addEventListener("keydown",function(p){(p.key==="Tab"||p.keyCode===9)&&(p.shiftKey?document.activeElement===i&&(l.focus(),p.preventDefault()):document.activeElement===l&&(i.focus(),p.preventDefault()))})}function E(s){const i=s.getAttribute("href");let l;function p(q){l||(l=q),q-l>=1100?window.location.href=i:requestAnimationFrame(p)}requestAnimationFrame(p)}document.addEventListener("keydown",s=>{s.key==="Escape"&&e.classList.contains("-opened")&&(f(e,"0","hidden",1200),w())}),t.addEventListener("click",s=>{let i=s.target.closest(".header-menu__open, .header-menu__closed, .header-menu__link");i&&(i.classList.contains("header-menu__closed")&&(w(),f(e,"0","hidden",1200)),i.classList.contains("header-menu__open")&&(m(i),g=i,f(e,"1","visible",0),_()),i.classList.contains("header-menu__link")&&(console.log(i),s.preventDefault(),w(),E(i)))})}H();function b(){u=function(m){const L=r.clientWidth/2,w=r.clientHeight/2;r.style.transform=`
        translate(${m.clientX-L}px, ${m.clientY-w}px) 
      `},e.addEventListener("mousemove",u)}function S(m){m==="mouseover"?y(r,"-grow"):m==="mouseout"&&d(r,"-grow")}function k(){function m(f){f.forEach((_,E)=>{_.dataset.index=E})}function L(f,_,E){let s=f.target.closest(".header-menu__link");if(s){if(s.classList.contains("header-menu__link")){const i=s.dataset.index,l=document.querySelector(`.header-menu__pic[data-index="${i}"]`);if(l)return _==="mouseover"&&E&&d(E,"-visible"),_==="mouseover"?y(l,"-visible"):_==="mouseout"&&d(E,"-visible"),l}return null}}function w(){m(h),m(v),c.addEventListener("mouseover",f=>{o=L(f,"mouseover",o),S("mouseover")}),c.addEventListener("mouseout",f=>{L(f,"mouseout",o),S("mouseout")})}w()}k()}function P(){x.registerPlugin(A);const n=e=>{x.set(e,{autoAlpha:0})},t=e=>{const a=parseFloat(e.dataset.delay)||0;let r=0,c=0,h=1,v=1,o=0,u="bounce";e.classList.contains("-topToBottom")?c=-50:c=100,x.fromTo(e,{autoAlpha:o,x:r,y:c},{autoAlpha:v,x:0,y:0,delay:a,duration:h,overwrite:"auto",ease:u})};x.utils.toArray(".-scrollMotion").forEach(e=>{n(e),A.create({trigger:e,start:"center bottom",end:"bottom top",markers:!1,onEnter:()=>{t(e)}})})}function F(){const n=document.querySelectorAll(".visual__parallax");let t={x:0,y:0},e=0;n.forEach(o=>{x.set(o,{perspective:"230rem",xPercent:-50,yPercent:-50,z:0,rotateY:0})});const a=x.timeline({defaults:{duration:1.5,ease:"bounce"}});Array.from(n).filter(o=>!o.classList.contains("visual__parallax--txt")).forEach((o,u)=>{a.from(o,{y:o.offsetHeight/2+ +o.dataset.distance,opacity:0,duration:3.5,ease:"power3.out"},u*.2)}),a.from(".visual__logo",{y:300,opacity:0,delay:1,duration:2},"2.5").from(".visual__tit",{y:-150,opacity:0,delay:.6,duration:2},"3").from(".-hide",{opacity:0,duration:1.5});function r(){n.forEach(o=>{const u=o.dataset.speedx||1,g=o.dataset.speedy||1,H=o.dataset.speedz||1,b=o.dataset.rotation||1,S=parseFloat(getComputedStyle(o).left),k=S<window.innerWidth/2?1:-1,m=(t.x-S)*k*.1;x.set(o,{x:-t.x*u,y:t.y*g,z:m*H,rotateY:e*b})})}function c(o){t.x=o.clientX-window.innerWidth/2,t.y=o.clientY-window.innerHeight/2,e=t.x/(window.innerWidth/2)*20,r()}function h(){r()}document.querySelector(".visual").addEventListener("mousemove",c),window.addEventListener("resize",h),r()}C();T();B();z();P();F();Y();M();function Y(){const n=document.querySelector(".projects");function t(e,a){let r=e.target.closest(".projects__link__tilt");r&&r.classList.contains("projects__link__tilt")&&(a==="mouseover"?y(r,"-active"):a==="mouseout"&&d(r,"-active"))}n.addEventListener("mouseover",e=>{t(e,"mouseover")}),n.addEventListener("mouseout",e=>{t(e,"mouseout")})}function M(){const n=document.querySelector(".header-scroll"),t=document.querySelector(".header-menu__open"),e=document.querySelector(".visual");let a,r,c,h;function v(){c=window.innerHeight,a=document.body.offsetHeight,h=a-c,r=e.offsetHeight}function o(){const u=scrollY/h,g=scrollY+window.innerHeight;n.style.height=u*100+"%",scrollY>=r/1.5?y(n,"-change"):d(n,"-change"),scrollY>=r/2?y(t,"-change"):d(t,"-change"),g*1.1>=a&&scrollTopMoveBtn()}window.addEventListener("scroll",()=>{o()}),window.addEventListener("resize",v),v()}
