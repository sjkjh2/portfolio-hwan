import"./modulepreload-polyfill.js";import{g as v,S as k}from"./ScrollTrigger.js";function f(s,n){s.classList.add(n)}function d(s,n){s.classList.remove(n)}function T(){document.querySelectorAll(".-copy-text").forEach(n=>{n.addEventListener("click",function(){const e=n.getAttribute("data-element-id"),t=document.getElementById(e),r=t.value;t.select(),t.setSelectionRange(0,99999);try{const p=document.execCommand("copy")?`${r} 클립보드에 복사되었습니다!`:"복사에 실패했습니다";alert(p)}catch(c){alert("복사하는 동안 오류가 발생했습니다: "+c)}})})}function B(){window.addEventListener("load",()=>{setTimeout(()=>scrollTo(0,0),100)})}function z(){const s=document.querySelector(".scroll-up"),n=()=>{const e=document.documentElement.scrollHeight;window.scrollY+window.innerHeight>=e?f(s,"-show"):d(s,"-show")};n(),window.addEventListener("scroll",()=>{n()}),window.addEventListener("resize",()=>{n()}),s.addEventListener("click",e=>{setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),d(s,"-show")},100)})}function C(){const s=document.querySelector("body"),n=document.querySelector(".header"),e=document.querySelector(".header-logo"),t=document.querySelector(".header-menu"),r=document.querySelector(".header-scroll"),c=document.querySelector(".main"),p=document.querySelector(".visual");let l,o,m,g,u,E,_;function S(){u=document.querySelector(".header-menu__open");function x(){m=window.innerHeight,l=document.body.offsetHeight,g=l-m,o=p.offsetHeight,E=u.offsetTop,_=e.offsetTop}function b(){const w=scrollY/g;r.style.height=w*100+"%",scrollY>=o/1.2?f(r,"-change"):d(r,"-change"),scrollY>=o-E?f(u,"-change"):d(u,"-change"),scrollY>=o-_?f(e,"-change"):d(e,"-change")}window.addEventListener("scroll",()=>{b()}),window.addEventListener("resize",x),x()}S();function L(){function x(a){a.setAttribute("aria-expanded",!0),f(s,"-has-popup"),f(t,"-opened"),f(c,"-has-popup"),d(t,"-closed")}function b(){let a;function i(y){a||(a=y),y-a>=500?(d(t,"-opened"),d(t,"-closed")):requestAnimationFrame(i)}requestAnimationFrame(i)}function w(){d(s,"-has-popup"),u&&u.setAttribute("aria-expanded",!1),f(t,"-closed"),b(),d(c,"-has-popup")}function H(a,i,y,h){setTimeout(()=>{a.style.opacity=i,a.style.visibility=y},h)}function q(){const a=t.querySelectorAll("button, a, [tabindex]"),i=a[0],y=a[a.length-1];t.addEventListener("keydown",function(h){(h.key==="Tab"||h.keyCode===9)&&(h.shiftKey?document.activeElement===i&&(y.focus(),h.preventDefault()):document.activeElement===y&&(i.focus(),h.preventDefault()))})}function A(a){const i=a.getAttribute("href");setTimeout(()=>{window.location.href=i},1100)}document.addEventListener("keydown",a=>{a.key==="Escape"&&t.classList.contains("-opened")&&(H(t,"0","hidden",1200),w())}),n.addEventListener("click",a=>{let i=a.target.closest(".header-menu__open, .header-menu__closed, .header-menu__link");i&&(i.classList.contains("header-menu__closed")&&(w(),H(t,"0","hidden",1200)),i.classList.contains("header-menu__open")&&(x(i),u=i,H(t,"1","visible",0),q()),i.classList.contains("header-menu__link")&&(console.log(i),a.preventDefault(),w(),A(i)))})}L()}function P(){const s=document.querySelector(".header-menu__list"),n=document.querySelectorAll(".header-menu__link"),e=document.querySelectorAll(".header-menu__pic");let t;const r=l=>{l.forEach((o,m)=>{o.dataset.index=m})},c=(l,o)=>{const m=l.target.closest(".header-menu__link");if(!m)return null;const g=m.dataset.index,u=document.querySelector(`.header-menu__pic[data-index="${g}"]`);return u?(o==="mouseover"&&t&&d(t,"-visible"),o==="mouseover"?f(u,"-visible"):o==="mouseout"&&d(t,"-visible"),u):null};(()=>{r(n),r(e),s.addEventListener("mouseover",l=>{t=c(l,"mouseover")}),s.addEventListener("mouseout",l=>{c(l,"mouseout")})})()}function Y(){v.registerPlugin(k);const s=e=>{v.set(e,{autoAlpha:0})},n=e=>{const t=parseFloat(e.dataset.delay)||0;let r=0,c=0,p=1,l="bounce";e.classList.contains("-topToBottom")?c=-50:c=100,v.fromTo(e,{autoAlpha:0,x:r,y:c},{autoAlpha:1,x:0,y:0,delay:t,duration:p,overwrite:"auto",ease:l})};v.utils.toArray(".-scrollMotion").forEach(e=>{s(e),k.create({trigger:e,start:"top bottom",end:"bottom top",markers:!1,onEnter:()=>{n(e)}})})}function F(){const s=document.querySelectorAll(".visual__parallax");let n={x:0,y:0},e=0;s.forEach(o=>{v.set(o,{perspective:"230rem",xPercent:-50,yPercent:-50,z:0,rotateY:0})});const t=v.timeline({defaults:{duration:1.5,ease:"bounce"}});Array.from(s).filter(o=>!o.classList.contains("visual__parallax--txt")).forEach((o,m)=>{t.from(o,{y:o.offsetHeight/2+ +o.dataset.distance,opacity:0,duration:3.5,ease:"power3.out"},m*.2)}),t.from(".visual__logo",{y:300,opacity:0,delay:1,duration:2},"2.5").from(".visual__tit",{y:-150,opacity:0,delay:.6,duration:2},"3").from(".-hide",{opacity:0,duration:1.5});function r(){s.forEach(o=>{const m=o.dataset.speedx||1,g=o.dataset.speedy||1,u=o.dataset.speedz||1,E=o.dataset.rotation||1,_=parseFloat(getComputedStyle(o).left),S=_<window.innerWidth/2?1:-1,L=(n.x-_)*S*.1;v.set(o,{x:-n.x*m,y:n.y*g,z:L*u,rotateY:e*E})})}function c(o){n.x=o.clientX-window.innerWidth/2,n.y=o.clientY-window.innerHeight/2,e=n.x/(window.innerWidth/2)*20,r()}function p(){r()}document.querySelector(".visual").addEventListener("mousemove",c),window.addEventListener("resize",p),r()}T();B();z();C();Y();F();P();I();function I(){const s=document.querySelector(".projects");function n(e,t){let r=e.target.closest(".projects__link__tilt");r&&r.classList.contains("projects__link__tilt")&&(t==="mouseover"?f(r,"-active"):t==="mouseout"&&d(r,"-active"))}s.addEventListener("mouseover",e=>{n(e,"mouseover")}),s.addEventListener("mouseout",e=>{n(e,"mouseout")})}
