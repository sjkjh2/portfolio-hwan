import"./modulepreload-polyfill.js";import{g as E,S as z}from"./ScrollTrigger.js";function p(o,t){o.classList.add(t)}function u(o,t){o.classList.remove(t)}function Y(){document.querySelectorAll(".-copy-text").forEach(t=>{t.addEventListener("click",function(){const e=t.getAttribute("data-element-id"),i=document.getElementById(e),a=i.value;i.select(),i.setSelectionRange(0,99999);try{const v=document.execCommand("copy")?`${a} 클립보드에 복사되었습니다!`:"복사에 실패했습니다";alert(v)}catch(f){alert("복사하는 동안 오류가 발생했습니다: "+f)}})})}function I(){window.addEventListener("load",()=>{setTimeout(()=>scrollTo(0,0),100)})}function M(){const o=document.querySelector(".scroll-up"),t=()=>{const e=document.documentElement.scrollHeight;window.scrollY+window.innerHeight>=e?p(o,"-show"):u(o,"-show")};t(),window.addEventListener("scroll",()=>{t()}),window.addEventListener("resize",()=>{t()}),o.addEventListener("click",e=>{setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),u(o,"-show")},100)})}function j(){const o=document.querySelector("body"),t=document.querySelector(".header"),e=document.querySelector(".header-menu"),i=document.querySelector(".header-menu__cursor"),a=document.querySelector(".header-menu__list"),f=document.querySelectorAll(".header-menu__link"),v=document.querySelectorAll(".header-menu__pic"),x=document.querySelector(".header-scroll"),s=document.querySelector(".main"),S=document.querySelector(".visual");let q,H,A,b,k,g,L;function B(){function c(){A=window.innerHeight,q=document.body.offsetHeight,b=q-A,H=S.offsetHeight}function y(){const h=scrollY/b;L=document.querySelector(".header-menu__open"),x.style.height=h*100+"%",scrollY>=H/1.5?p(x,"-change"):u(x,"-change"),scrollY>=H/2?p(L,"-change"):u(L,"-change")}window.addEventListener("scroll",()=>{y()}),window.addEventListener("resize",c),c()}B();function P(){function c(n){n.setAttribute("aria-expanded",!0),p(o,"-has-popup"),p(e,"-opened"),p(s,"-has-popup"),u(e,"-closed"),F()}function y(){let n;function r(l){n||(n=l),l-n>=500?(u(e,"-opened"),u(e,"-closed")):requestAnimationFrame(r)}requestAnimationFrame(r)}function h(){u(o,"-has-popup"),L&&L.setAttribute("aria-expanded",!1),p(e,"-closed"),y(),g&&(window.removeEventListener("mousemove",g),g=null),u(s,"-has-popup")}function d(n,r,l,m){setTimeout(()=>{n.style.opacity=r,n.style.visibility=l},m)}function _(){const n=e.querySelectorAll("button, a, [tabindex]"),r=n[0],l=n[n.length-1];e.addEventListener("keydown",function(m){(m.key==="Tab"||m.keyCode===9)&&(m.shiftKey?document.activeElement===r&&(l.focus(),m.preventDefault()):document.activeElement===l&&(r.focus(),m.preventDefault()))})}function w(n){const r=n.getAttribute("href");let l;function m(C){l||(l=C),C-l>=1100?window.location.href=r:requestAnimationFrame(m)}requestAnimationFrame(m)}document.addEventListener("keydown",n=>{n.key==="Escape"&&e.classList.contains("-opened")&&(d(e,"0","hidden",1200),h())}),t.addEventListener("click",n=>{let r=n.target.closest(".header-menu__open, .header-menu__closed, .header-menu__link");r&&(r.classList.contains("header-menu__closed")&&(h(),d(e,"0","hidden",1200)),r.classList.contains("header-menu__open")&&(c(r),L=r,d(e,"1","visible",0),_()),r.classList.contains("header-menu__link")&&(console.log(r),n.preventDefault(),h(),w(r)))})}P();function F(){g=function(c){const y=i.clientWidth/2,h=i.clientHeight/2;i.style.transform=`
        translate(${c.clientX-y}px, ${c.clientY-h}px) 
      `},e.addEventListener("mousemove",g)}function T(c){c==="mouseover"?p(i,"-grow"):c==="mouseout"&&u(i,"-grow")}function W(){function c(d){d.forEach((_,w)=>{_.dataset.index=w})}function y(d,_,w){let n=d.target.closest(".header-menu__link");if(n){if(n.classList.contains("header-menu__link")){const r=n.dataset.index,l=document.querySelector(`.header-menu__pic[data-index="${r}"]`);if(l)return _==="mouseover"&&w&&u(w,"-visible"),_==="mouseover"?p(l,"-visible"):_==="mouseout"&&u(w,"-visible"),l}return null}}function h(){c(f),c(v),a.addEventListener("mouseover",d=>{k=y(d,"mouseover",k),T("mouseover")}),a.addEventListener("mouseout",d=>{y(d,"mouseout",k),T("mouseout")})}h()}W()}function D(){E.registerPlugin(z);const o=e=>{E.set(e,{autoAlpha:0})},t=e=>{const i=parseFloat(e.dataset.delay)||0;let a=0,f=0,v=1,x="bounce";e.classList.contains("-topToBottom")?f=-50:f=100,E.fromTo(e,{autoAlpha:0,x:a,y:f},{autoAlpha:1,x:0,y:0,delay:i,duration:v,overwrite:"auto",ease:x})};E.utils.toArray(".-scrollMotion").forEach(e=>{o(e),z.create({trigger:e,start:"top bottom",end:"bottom top",markers:!1,onEnter:()=>{t(e)}})})}function O(){const o=document.querySelectorAll(".visual__parallax");let t={x:0,y:0},e=0;o.forEach(s=>{E.set(s,{perspective:"230rem",xPercent:-50,yPercent:-50,z:0,rotateY:0})});const i=E.timeline({defaults:{duration:1.5,ease:"bounce"}});Array.from(o).filter(s=>!s.classList.contains("visual__parallax--txt")).forEach((s,S)=>{i.from(s,{y:s.offsetHeight/2+ +s.dataset.distance,opacity:0,duration:3.5,ease:"power3.out"},S*.2)}),i.from(".visual__logo",{y:300,opacity:0,delay:1,duration:2},"2.5").from(".visual__tit",{y:-150,opacity:0,delay:.6,duration:2},"3").from(".-hide",{opacity:0,duration:1.5});function a(){o.forEach(s=>{const S=s.dataset.speedx||1,q=s.dataset.speedy||1,H=s.dataset.speedz||1,A=s.dataset.rotation||1,b=parseFloat(getComputedStyle(s).left),k=b<window.innerWidth/2?1:-1,g=(t.x-b)*k*.1;E.set(s,{x:-t.x*S,y:t.y*q,z:g*H,rotateY:e*A})})}function f(s){t.x=s.clientX-window.innerWidth/2,t.y=s.clientY-window.innerHeight/2,e=t.x/(window.innerWidth/2)*20,a()}function v(){a()}document.querySelector(".visual").addEventListener("mousemove",f),window.addEventListener("resize",v),a()}Y();I();M();j();D();O();V();function V(){const o=document.querySelector(".projects");function t(e,i){let a=e.target.closest(".projects__link__tilt");a&&a.classList.contains("projects__link__tilt")&&(i==="mouseover"?p(a,"-active"):i==="mouseout"&&u(a,"-active"))}o.addEventListener("mouseover",e=>{t(e,"mouseover")}),o.addEventListener("mouseout",e=>{t(e,"mouseout")})}
