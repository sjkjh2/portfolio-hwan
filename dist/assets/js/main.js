import"./modulepreload-polyfill.js";import{g as E,S as B}from"./ScrollTrigger.js";function p(n,t){n.classList.add(t)}function d(n,t){n.classList.remove(t)}function M(){document.querySelectorAll(".-copy-text").forEach(t=>{t.addEventListener("click",function(){const e=t.getAttribute("data-element-id"),i=document.getElementById(e),a=i.value;i.select(),i.setSelectionRange(0,99999);try{const v=document.execCommand("copy")?`${a} 클립보드에 복사되었습니다!`:"복사에 실패했습니다";alert(v)}catch(f){alert("복사하는 동안 오류가 발생했습니다: "+f)}})})}function W(){window.addEventListener("load",()=>{setTimeout(()=>scrollTo(0,0),100)})}function I(){const n=document.querySelector(".scroll-up"),t=()=>{const e=document.documentElement.scrollHeight;window.scrollY+window.innerHeight>=e?p(n,"-show"):d(n,"-show")};t(),window.addEventListener("scroll",()=>{t()}),window.addEventListener("resize",()=>{t()}),n.addEventListener("click",e=>{setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),d(n,"-show")},100)})}function j(){const n=document.querySelector("body"),t=document.querySelector(".header"),e=document.querySelector(".header-menu"),i=document.querySelector(".header-menu__cursor"),a=document.querySelector(".header-menu__list"),f=document.querySelectorAll(".header-menu__link"),v=document.querySelectorAll(".header-menu__pic"),x=document.querySelector(".header-scroll"),s=document.querySelector(".main"),S=document.querySelector(".visual");let H,b,A,k,q,g,L;function z(){function c(){A=window.innerHeight,H=document.body.offsetHeight,k=H-A,b=S.offsetHeight}function y(){const h=scrollY/k,u=scrollY+window.innerHeight;L=document.querySelector(".header-menu__open"),x.style.height=h*100+"%",scrollY>=b/1.5?p(x,"-change"):d(x,"-change"),scrollY>=b/2?p(L,"-change"):d(L,"-change"),u*1.1>=H&&scrollTopMoveBtn()}window.addEventListener("scroll",()=>{y()}),window.addEventListener("resize",c),c()}z();function P(){function c(o){o.setAttribute("aria-expanded",!0),p(n,"-has-popup"),p(e,"-opened"),p(s,"-has-popup"),d(e,"-closed"),F()}function y(){let o;function r(l){o||(o=l),l-o>=500?(d(e,"-opened"),d(e,"-closed")):requestAnimationFrame(r)}requestAnimationFrame(r)}function h(){d(n,"-has-popup"),L&&L.setAttribute("aria-expanded",!1),p(e,"-closed"),y(),g&&(window.removeEventListener("mousemove",g),g=null),d(s,"-has-popup")}function u(o,r,l,m){setTimeout(()=>{o.style.opacity=r,o.style.visibility=l},m)}function w(){const o=e.querySelectorAll("button, a, [tabindex]"),r=o[0],l=o[o.length-1];e.addEventListener("keydown",function(m){(m.key==="Tab"||m.keyCode===9)&&(m.shiftKey?document.activeElement===r&&(l.focus(),m.preventDefault()):document.activeElement===l&&(r.focus(),m.preventDefault()))})}function _(o){const r=o.getAttribute("href");let l;function m(C){l||(l=C),C-l>=1100?window.location.href=r:requestAnimationFrame(m)}requestAnimationFrame(m)}document.addEventListener("keydown",o=>{o.key==="Escape"&&e.classList.contains("-opened")&&(u(e,"0","hidden",1200),h())}),t.addEventListener("click",o=>{let r=o.target.closest(".header-menu__open, .header-menu__closed, .header-menu__link");r&&(r.classList.contains("header-menu__closed")&&(h(),u(e,"0","hidden",1200)),r.classList.contains("header-menu__open")&&(c(r),L=r,u(e,"1","visible",0),w()),r.classList.contains("header-menu__link")&&(console.log(r),o.preventDefault(),h(),_(r)))})}P();function F(){g=function(c){const y=i.clientWidth/2,h=i.clientHeight/2;i.style.transform=`
        translate(${c.clientX-y}px, ${c.clientY-h}px) 
      `},e.addEventListener("mousemove",g)}function T(c){c==="mouseover"?p(i,"-grow"):c==="mouseout"&&d(i,"-grow")}function Y(){function c(u){u.forEach((w,_)=>{w.dataset.index=_})}function y(u,w,_){let o=u.target.closest(".header-menu__link");if(o){if(o.classList.contains("header-menu__link")){const r=o.dataset.index,l=document.querySelector(`.header-menu__pic[data-index="${r}"]`);if(l)return w==="mouseover"&&_&&d(_,"-visible"),w==="mouseover"?p(l,"-visible"):w==="mouseout"&&d(_,"-visible"),l}return null}}function h(){c(f),c(v),a.addEventListener("mouseover",u=>{q=y(u,"mouseover",q),T("mouseover")}),a.addEventListener("mouseout",u=>{y(u,"mouseout",q),T("mouseout")})}h()}Y()}function D(){E.registerPlugin(B);const n=e=>{E.set(e,{autoAlpha:0})},t=e=>{const i=parseFloat(e.dataset.delay)||0;let a=0,f=0,v=1,x="bounce";e.classList.contains("-topToBottom")?f=-50:f=100,E.fromTo(e,{autoAlpha:0,x:a,y:f},{autoAlpha:1,x:0,y:0,delay:i,duration:v,overwrite:"auto",ease:x})};E.utils.toArray(".-scrollMotion").forEach(e=>{n(e),B.create({trigger:e,start:"top bottom",end:"bottom top",markers:!1,onEnter:()=>{t(e)}})})}function O(){const n=document.querySelectorAll(".visual__parallax");let t={x:0,y:0},e=0;n.forEach(s=>{E.set(s,{perspective:"230rem",xPercent:-50,yPercent:-50,z:0,rotateY:0})});const i=E.timeline({defaults:{duration:1.5,ease:"bounce"}});Array.from(n).filter(s=>!s.classList.contains("visual__parallax--txt")).forEach((s,S)=>{i.from(s,{y:s.offsetHeight/2+ +s.dataset.distance,opacity:0,duration:3.5,ease:"power3.out"},S*.2)}),i.from(".visual__logo",{y:300,opacity:0,delay:1,duration:2},"2.5").from(".visual__tit",{y:-150,opacity:0,delay:.6,duration:2},"3").from(".-hide",{opacity:0,duration:1.5});function a(){n.forEach(s=>{const S=s.dataset.speedx||1,H=s.dataset.speedy||1,b=s.dataset.speedz||1,A=s.dataset.rotation||1,k=parseFloat(getComputedStyle(s).left),q=k<window.innerWidth/2?1:-1,g=(t.x-k)*q*.1;E.set(s,{x:-t.x*S,y:t.y*H,z:g*b,rotateY:e*A})})}function f(s){t.x=s.clientX-window.innerWidth/2,t.y=s.clientY-window.innerHeight/2,e=t.x/(window.innerWidth/2)*20,a()}function v(){a()}document.querySelector(".visual").addEventListener("mousemove",f),window.addEventListener("resize",v),a()}M();W();I();j();D();O();V();function V(){const n=document.querySelector(".projects");function t(e,i){let a=e.target.closest(".projects__link__tilt");a&&a.classList.contains("projects__link__tilt")&&(i==="mouseover"?p(a,"-active"):i==="mouseout"&&d(a,"-active"))}n.addEventListener("mouseover",e=>{t(e,"mouseover")}),n.addEventListener("mouseout",e=>{t(e,"mouseout")})}
